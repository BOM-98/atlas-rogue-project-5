{% extends "base.html" %}
{% load static %}

{% block extra_css %}
{% endblock %}

{% block extra_title %}All Products{% endblock %}

{% block content %}
<div class="w-full h-fit py-[30px] justify-start items-start gap-[30px] flex flex-wrap px-10">
  <!-- Price Sort Dropdown -->
  <button id="dropdownHoverButton" data-dropdown-toggle="price-sort" data-dropdown-trigger="hover"
    class="text-white bg-primary-600 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
    type="button">Sort By Price <svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
      fill="none" viewBox="0 0 10 6">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4" />
    </svg>
  </button>

  <!-- Price Sort menu -->
  <div id="price-sort" class="z-10 hidden bg-primary-600 divide-y divide-gray-100 rounded-lg shadow w-44">
    <ul class="py-2 text-sm text-white" aria-labelledby="dropdownHoverButton">
      <li>
        <a href="{% url 'products' %}?sort=price&direction=desc" class="block px-4 py-2 hover:bg-primary-400">High to
          Low</a>
      </li>
      <li>
        <a href="{% url 'products' %}?sort=price&direction=asc" class="block px-4 py-2 hover:bg-primary-400">Low to
          High</a>
      </li>
    </ul>
  </div>
  <!-- End of Price Sort Dropdown -->

  <!-- Color Sort Dropdown -->
  <button id="dropdownHoverButton" data-dropdown-toggle="category-sort" data-dropdown-trigger="hover"
    class="text-white bg-primary-600 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center"
    type="button">Sort By Name <svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
      fill="none" viewBox="0 0 10 6">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4" />
    </svg>
  </button>

  <!-- Color Sort menu -->
  <div id="category-sort" class="z-10 hidden bg-primary-600 divide-y divide-gray-100 rounded-lg shadow w-44">
    <ul class="py-2 text-sm text-white" aria-labelledby="dropdownHoverButton">
      <li>
        <a href="{% url 'products' %}?sort=name&direction=asc" class="block px-4 py-2 hover:bg-primary-400">A - Z</a>
      </li>
      <li>
        <a href="{% url 'products' %}?sort=name&direction=desc" class="block px-4 py-2 hover:bg-primary-400">Z - A</a>
      </li>
    </ul>
  </div>
  <!-- End of Color Sort Dropdown -->

</div>
<div class="w-full h-fit py-[30px] justify-around items-center flex flex-wrap">
  {% for product in products %}
  <div class="w-[250px] h-fit min-h-[500px] flex-col justify-start gap-2.5 inline-flex my-16 mx-5">
    <div class="flex justify-center items-center">
      <a href="{% url 'product_detail' product.id %}">
        <img src="../media{{ product.image.url }}" alt="" class="h-96 object-cover rounded-md">
      </a>
    </div>
    <div class="p-2.5 bg-white bg-opacity-50 rounded-[50px] justify-center items-center gap-2.5 inline-flex">
      <div class="w-5 h-5 relative"></div>
    </div>
    <div class="self-stretch h-[150px] px-[7px] flex-col justify-between items-start flex">
      <div class="self-stretch justify-start items-start gap-2.5 inline-flex">
        <div class="grow shrink basis-0 text-black text-lg font-bold leading-7 my-1">{{ product.name }}</div>
        <div class="w-4 h-4 relative"></div>
        <div class="h-5 justify-center items-start gap-2.5 flex">
          <div class="text-neutral-400 text-sm font-extrabold leading-tight">4.9</div>
        </div>
      </div>
      <div class="self-stretch text-secondaryGrey-400 text-sm font-normal my-1">{{ product.designer }}</div>
      {% if product.category %}
      <div class="flex flex-row justify-start items-center gap-2.5">
        <img src="{% static 'img/icons/tag-black-shape.svg' %}" alt="" class="h-3 fill-secondaryGray-400">
        <div class="self-stretch text-black text-sm font-normal my-1">{{product.category.friendly_name }}</div>
      </div>
      {% endif %}
      <div class="self-stretch text-black text-lg font-normal my-1">{{ product.price }} <span
          class="text-gray text-sm">/ day</span></div>
    </div>
  </div>
  {% endfor %}
</div>

{% endblock %}

{% block extra_js %}
{% endblock %}