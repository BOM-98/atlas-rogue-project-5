{% extends "base.html" %}
{% load static %}

{% block extra_meta %}
<meta name="description" content="Wishlist">
{% endblock %}

{% block extra_css %}
{% endblock %}

{% block extra_title %}Wishlist{% endblock %}

{% block content %}

<div class="px-4 w-full">
  <hr class="my-4">
  <h1 class="font-semibold text-3xl mb-4">Wishlist</h1>
  <h3 class="font-semibold text-secondaryGray-500 text-l mb-4">Your wishlist items</h3>
  <hr class="my-4">
</div>

<div class="w-full h-fit py-[30px] justify-around items-center flex flex-wrap">
  {{ wishlist|length }} items in your wishlist
  {% if wishlist|length is 0 %}
  <div class="w-full h-fit justify-center items-center flex my-4">
    <a href="{% url 'products' %}"><button type="button"
      class="text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-base px-5 py-3 text-center mb-2">Shop Items</button>
</a>
  </div>
  {% endif %}
  {% for product in wishlist %}
  <div class="w-[250px] h-fit min-h-[500px] flex-col justify-start gap-2.5 inline-flex my-16 mx-5">
    <div class="flex justify-center items-center">
      <a href="{% url 'product_detail' product.id %}">
        {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="h-96 object-cover rounded-md hover:shadow-md">
        {% else %}
        <!-- Placeholder image or no image -->
        <img src="{% static 'img/placeholder/woman-clothes.svg' %}" alt="{{ product.name }}"
          class="h-96 object-fit rounded-md">
        {% endif %}
      </a>
    </div>
    <div class="p-2.5 bg-white bg-opacity-50 rounded-[50px] justify-center items-center gap-2.5 inline-flex">
      <div class="w-5 h-5 relative"></div>
    </div>
    <div class="self-stretch h-[150px] px-[7px] flex-col justify-between items-start flex">
      <div class="self-stretch justify-start items-start gap-2.5 inline-flex">
        <!-- Product Name -->
        <a href="{% url 'product_detail' product.id %}">
          <div class="grow shrink basis-0 text-black hover:text-primary-500 text-lg font-bold leading-7 my-1">{{ product.name }}</div>
        </a>
        <!-- End Product Name -->
        <div class="w-4 h-4 relative"></div>
        <div class="h-5 justify-center items-start gap-2.5 flex">
            <a href="{% url 'remove_from_wishlist' product.id %}">
              <img loading="lazy" src="{% static 'img/icons/heart-full.svg' %}"
                class="aspect-square object-contain object-center w-[25px] min-w-[25px] overflow-hidden self-center shrink-0 max-w-full my-auto mx-2 hover:scale-110" alt="wishlist">
            </a>
        </div>
      </div>
      <div class="self-stretch text-secondaryGrey-400 text-sm font-normal my-1">{{ product.designer }}</div>
      {% if product.category %}
      <a href="{% url 'products' %}?category={{ product.category.name }}">
        <div class="flex flex-row justify-start items-center gap-2.5">
          <img src="{% static 'img/icons/tag-black-shape.svg' %}" alt="" class="h-3 fill-secondaryGray-400">
          <div class="self-stretch text-black text-sm font-normal my-1">{{product.category.friendly_name }}</div>
        </div>
      </a>
      {% endif %}
      <div class="self-stretch text-black text-lg font-normal my-1">{{ product.price }} <span
          class="text-gray text-sm">/ day</span></div>
      {% if request.user.is_superuser %}
      <div class="flex flex-row justify-start items-start gap-4">
        <a href="{% url 'edit_product' product.id %}"
          class="hover:text-blue-800 text-blue-400 rounded py-2 my-4">Edit</a>
        <a href="{% url 'delete_product' product.id %}"
          class="hover:text-red-800 text-red-400 rounded py-2 my-4">Delete</a>
      </div>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
<div
  class="btt-link shadow-sm rounded-md border border-primary-600 fixed bottom-2.5 right-2.5 h-10 w-10 hover:bg-primary-200 hover:text-white hover:font-extrabold">
  <a class="flex h-full items-center justify-center cursor-pointer">
    <i class="fas fa-arrow-up text-primary-600 hover:text-white hover:font-extrabold"></i>
  </a>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/navButton.js' %}"></script>
{% endblock %}